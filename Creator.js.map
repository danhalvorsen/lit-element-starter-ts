{"version":3,"file":"creator.js","sourceRoot":"","sources":["src/creator.ts"],"names":[],"mappings":"AACA,OAAO,EAAC,KAAK,EAAC,MAAM,SAAS,CAAC;AAK9B,MAAe,OAAO;CAErB;AAED,0CAA0C;AAC1C,sCAAsC;AACtC,qCAAqC;AACrC,MAAM;AACN,IAAI;AACJ,yCAAyC;AACzC,sCAAsC;AACtC,mCAAmC;AACnC,MAAM;AACN,IAAI;AAEJ,6DAA6D;AAC7D,MAAM,OAAO,WAAY,SAAQ,OAAO;IAG/B,MAAM,CAAC,EAAS,EAAE,EAAS,EAAE,GAA6B;QAC/D,IAAI,CAAC,WAAW,GAAG,IAAI,WAAW,CAAC,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;QAChD,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC;IAC9B,CAAC;IACe,aAAa;QAC3B,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,EAAE,CAAC;YAC7B,MAAM,IAAI,KAAK,CAAC,sDAAsD,CAAC,CAAC;QAC1E,CAAC;QACD,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;IACtC,CAAC;CACF;AAED,6DAA6D;AAC7D,MAAM,WAAW;IAKf;;OAEG;IACH,YAAY,EAAS,EAAE,EAAS,EAAE,GAA6B;QAC7D,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;IACf,CAAC;IAED,SAAS;QACP,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;QAChB,yBAAyB;QACzB,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC;QACrB,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC1C,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC1C,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC;QAClB,iCAAiC;QACjC,qBAAqB;QAErB,OAAO,IAAI,CAAC;IACd,CAAC;IAEO,KAAK,CAAC,CAAQ,EAAE,GAA6B;QACnD,GAAG,CAAC,SAAS,EAAE,CAAC;QAChB,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QACzB,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;QACnC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;QACnC,GAAG,CAAC,IAAI,EAAE,CAAC;IACb,CAAC;CACF;AAED,MAAM,OAAO,WAAW;IAAxB;QACE,OAAE,GAAU,IAAI,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5B,OAAE,GAAU,IAAI,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAS9B,CAAC;IARC,MAAM,CAAC,EAAS;QACd,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,OAAO,IAAI,CAAC;IACd,CAAC;IACD,MAAM,CAAC,EAAS;QACd,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,OAAO,IAAI,CAAC;IACd,CAAC;CACF","sourcesContent":["import {LitElement} from 'lit';\r\nimport {Point} from './types';\r\n\r\ninterface Product {\r\n  operation(): Product;\r\n}\r\nabstract class Creator {\r\n  public abstract factoryMethod(): Product;\r\n}\r\n\r\n// class PrimitivCreator extends Creator {\r\n//   public factoryMethod(): Product {\r\n//     return new PrimitiveProduct();\r\n//   }\r\n// }\r\n// class ComplexCreator extends Creator {\r\n//   public factoryMethod(): Product {\r\n//     return new ComplexProduct();\r\n//   }\r\n// }\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nexport class LineCreator extends Creator {\r\n  private lineProduct!: LineProduct;\r\n\r\n  public create(p0: Point, p1: Point, ctx: CanvasRenderingContext2D): Product {\r\n    this.lineProduct = new LineProduct(p0, p1, ctx);\r\n    return this.factoryMethod();\r\n  }\r\n  public override factoryMethod(): Product {\r\n    if (this.lineProduct == null) {\r\n      throw new Error('LineProduct is null. Remember to call create() first');\r\n    }\r\n    return this.lineProduct.operation();\r\n  }\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nclass LineProduct implements Product {\r\n  ctx: CanvasRenderingContext2D;\r\n  p0: Point;\r\n  p1: Point;\r\n\r\n  /**\r\n   *\r\n   */\r\n  constructor(p0: Point, p1: Point, ctx: CanvasRenderingContext2D) {\r\n    this.ctx = ctx;\r\n    this.p0 = p0;\r\n    this.p1 = p1;\r\n  }\r\n\r\n  operation(): Product {\r\n    this.ctx.save();\r\n    ///this.ctx.scale(1, -1);\r\n    this.ctx.beginPath();\r\n    this.ctx.moveTo(this.p0.x(), this.p0.y());\r\n    this.ctx.lineTo(this.p1.x(), this.p1.y());\r\n    this.ctx.stroke();\r\n    // this.arrow(this.p1, this.ctx);\r\n    // this.ctx.stroke();\r\n\r\n    return this;\r\n  }\r\n\r\n  private arrow(p: Point, ctx: CanvasRenderingContext2D) {\r\n    ctx.beginPath();\r\n    ctx.moveTo(p.x(), p.y());\r\n    ctx.lineTo(p.x() + 25, p.y() + 25);\r\n    ctx.lineTo(p.x() + 25, p.y() - 25);\r\n    ctx.fill();\r\n  }\r\n}\r\n\r\nexport class LineBuilder {\r\n  p0: Point = new Point(0, 0);\r\n  p1: Point = new Point(0, 0);\r\n  WithP0(p0: Point): this {\r\n    this.p0 = p0;\r\n    return this;\r\n  }\r\n  WithP1(p1: Point): this {\r\n    this.p1 = p1;\r\n    return this;\r\n  }\r\n}\r\n"]}